# go-log

This library provides a wrapper for the [Zap Uber logger])(https://github.com/uber-go/zap/tree/master) in Go, making it easy to log events at different levels (debug, info, warning, error). It uses the Logger interface to offer a consistent way to interact with the logger.

## Installation
```bash
go get github.com/marcosstupnicki/go-log
```

## Basic Usage
Import the library into your code and create an instance of the logger:

```go
import (
	"context"
	"errors"

	golog "github.com/marcosstupnicki/go-log/pkg"
)

func main() {
	log, err := golog.New()
	if err != nil {
		panic(err)
	}

	log.Info(context.Background(), "foo",
	 golog.WithField("mykey", mystruct{
		Foo: "foo",
		Bar: 1212,
	}),
	golog.WithField("err", errors.New("random error ocurred")))
}

type mystruct struct {
	Foo string `json:"foo"`
	Bar int    `json:"bar"`
}
```

### Logger Interface
The Logger interface provides methods to log events at different severity levels:

```go
type Logger interface {
    Debug(ctx context.Context, opt ...Option)
    Info(ctx context.Context, opt ...Option)
    Warn(ctx context.Context, opt ...Option)
    Error(ctx context.Context, opt ...Option)
}
```

### Logger Options
You can customize each log by providing options to the corresponding method. Available options include:

>  WithFields: Adds additional fields to the log.

```go
logger.Info(ctx, "Request proccessed ok", golog.WithFields(golog.Fields{"user": "john_doe", "description": "some description"}))
```

### Log Format
Logs generated by this library follow a structured format, similar to the following example:

```bash
{"level":"info","timestamp":"2024-02-24T17:23:11.661-0300","caller":"pkg/log.go:46","msg":"asdasdasd","peter":{"foo_bar":"asdasda","bar_foo":1212},"err":"asdasdasda"}
```
This format includes information such as the log level, timestamp, caller location, message, and additional fields.